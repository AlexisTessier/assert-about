{"version":3,"sources":["Topic.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;AAG1B,IAAI,uBAAuB,GAAG,SAAQ,CAAC;AACvC,IAAI,oBAAoB,GAAG,SAAQ,CAAC;AACpC,IAAI,cAAc,GAAG,SAAQ,CAAC;AAC9B,IAAI,4BAA4B,GAAG,SAAQ,CAAC;AAC5C,IAAI,mBAAmB,GAAG,SAAQ,CAAC;;IAE7B,KAAK;AACC,UADN,KAAK,CACE,IAAO,EAAE;MAAR,KAAK,GAAN,IAAO,CAAN,KAAK;;wBADb,KAAK;;AAGT,MAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,MAAI,CAAC,aAAa,GAAG,EAAE,CAAC;;AAExB,MAAI,CAAC,4BAA4B,CAAC,4BAAG,oBAAU,IAAI;OAC1C,CAAC,EAAG,IAAI;;;;AAAR,OAAC,GAAC,CAAC,EAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM;;;YAAC,CAAC,GAAC,IAAI,CAAA;;;;;;aAC9C,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;;;AADwB,OAAC,EAAE;;;;;;;;;GAGzD,CAAA,CAAC;EACF;;cAXI,KAAK;;SAaE,sBAAC,IAAI,EAAE,SAAS,EAAE,IAAI,EAAC;AAClC,OAAI,CAAC,aAAa,CAAC,IAAI,CAAC;AACvB,QAAI,EAAJ,IAAI;AACJ,aAAS,EAAT,SAAS;AACT,QAAI,EAAJ,IAAI;IACJ,CAAC,CAAC;GACH;;;SAEmB,gCAAE;AACrB,OAAI,CAAC,cAAc,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC;AAC3D,OAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC;GAC5B;;OAEA,mBAAmB;SAAC,iBAAE;;;AACtB,OAAI,CAAC,4BAA4B,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,YAAI;AACjE,UAAK,mBAAmB,EAAE,CAAC;IAC3B,CAAC,CAAA;GACF;;OAEA,oBAAoB;SAAC,iBAAE;;;AACvB,OAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC;AAC1B,IAAC,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,UAAC,SAAS,EAAK;AAC5C,WAAK,cAAc,CAAC,CAAC,IAAI,CAAC,OAAK,uBAAuB,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;IACpE,CAAC,CAAA;GACF;;OAEA,uBAAuB;SAAC,eAAC,KAAuB,EAAC;OAAvB,IAAI,GAAL,KAAuB,CAAtB,IAAI;OAAE,SAAS,GAAhB,KAAuB,CAAhB,SAAS;OAAE,IAAI,GAAtB,KAAuB,CAAL,IAAI;;AAC/C,UAAO,aAAY,UAAC,OAAO,EAAE,MAAM,EAAI;AACtC,QAAI,OAAO,GAAG,IAAI,CAAC;AACnB,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;;AAElB,QAAG;AACF,YAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;;AAEvB,cAAS,qCAAI,IAAI,EAAC,CAAC;AACnB,YAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;KACtB,CACD,OAAM,CAAC,EAAC;AACP,YAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACf,YAAO,GAAG,CAAC,CAAC,OAAO,CAAC;AACpB,WAAM,CAAC,CAAC;KACR;;AAED,WAAO,KAAK,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;IACtD,CAAC,CAAC;GACH;;;QA1DI,KAAK;;;qBA6DI,KAAK","file":"Topic.js","sourcesContent":["var _ = require('lodash');\r\n\r\n/*-----------private keys-----------*/\r\nvar createAssertionLauncher = Symbol();\r\nvar createAssertionSuite = Symbol();\r\nvar assertionSuite = Symbol();\r\nvar launchNextAssertionGenerator = Symbol();\r\nvar launchNextAssertion = Symbol();\r\n\r\nclass Topic {\r\n\tconstructor({value}) {\r\n\t\t\r\n\t\tthis.value = value;\r\n\t\tthis.assertionList = [];\r\n\r\n\t\tthis[launchNextAssertionGenerator] = function*(self){\r\n\t\t\tfor(var i=0,imax = self[assertionSuite].length;i<imax;i++){\r\n\t\t\t\tyield self[assertionSuite][i];\r\n\t\t\t}\t\t\t\r\n\t\t};\r\n\t}\r\n\r\n\taddAssertion(name, testBlock, args){\r\n\t\tthis.assertionList.push({\r\n\t\t\tname,\r\n\t\t\ttestBlock,\r\n\t\t\targs\r\n\t\t});\r\n\t}\r\n\r\n\tlaunchAssertionSuite(){\r\n\t\tthis[assertionSuite] ? null : this[createAssertionSuite]();\r\n\t\tthis[launchNextAssertion]();\r\n\t}\r\n\r\n\t[launchNextAssertion](){\r\n\t\tthis[launchNextAssertionGenerator](this)._invoke().value.then(()=>{\r\n\t\t\tthis.launchNextAssertion();\r\n\t\t})\r\n\t}\r\n\r\n\t[createAssertionSuite](){\r\n\t\tthis[assertionSuite] = [];\r\n\t\t_.forEach(this.assertionList, (assertion) => {\r\n\t\t\tthis[assertionSuite].push(this[createAssertionLauncher](assertion));\r\n\t\t})\r\n\t}\r\n\r\n\t[createAssertionLauncher]({name, testBlock, args}){\r\n\t\treturn new Promise((resolve, reject)=> {\r\n\t\t\tvar message = \"ok\";\r\n\t\t\tconsole.log(name);\r\n\r\n\t\t\ttry{\r\n\t\t\t\tconsole.log(testBlock);\r\n\t\t\t\t\r\n\t\t\t\ttestBlock(...args);\r\n\t\t\t\tconsole.log(\"kjhkhj\");\r\n\t\t\t}\r\n\t\t\tcatch(e){\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tmessage = e.message;\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\r\n\t\t\tmessage === \"ok\" ? resolve(message) : reject(message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default Topic;"],"sourceRoot":"/source/"}